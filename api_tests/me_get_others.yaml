# Test generated by RoostGPT for test credential-artillery-test using AI Type Vertex AI and AI Model code-bison-32k


# RoostTestHash=ae6b8ce5ab

# Corrected Artillery YAML Test Case
config:
  target: {{ $processEnvironment.API_HOST }}
  expect: true
  payload:
    file: me_get_others.csv
    skipHeader: true
scenarios:
  - scenario: Failure Cases
    flow:
      - get:
          url: /me
          log: "GET /me - Expecting 401 Unauthorized"
          expect:
            - statusCode: 401
            - hasHeader: Token
            - headerEquals: Token: {{$processEnvironment.AUTH_TOKEN}}
      - post:
          url: /me
          log: "POST /me - Expecting 400 Bad Request (Invalid Payload)"
          payload:
            email: not_an_email
          expect:
            - statusCode: 400
            - hasProperty: error
            - hasProperty: description
            - equals: error: validation/email-pattern
            - equals: description: "Email must be a valid email address."
      - patch:
          url: /me
          log: "PATCH /me - Expecting 400 Bad Request (Missing Required Field)"
          payload:
            email: username@example.com
          expect:
            - statusCode: 400
            - hasProperty: error
            - hasProperty: description
            - equals: error: validation/required-field
            - equals: description: "The field 'name' is required."
      - delete:
          url: /me
          log: "DELETE /me - Expecting 401 Unauthorized"
          expect:
            - statusCode: 401
            - hasHeader: Token
            - headerEquals: Token: {{$processEnvironment.AUTH_TOKEN}}
      - get:
          url: /non-existent-endpoint
          log: "GET /non-existent-endpoint - Expecting 404 Not Found"
          expect:
            - statusCode: 404
      - think: 500
