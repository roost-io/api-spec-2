# Test generated by RoostGPT for test credential-artillery-test using AI Type Open AI and AI Model gpt-4-1106-preview


# Test generated for /icd/s2s/exchange/refundMessage_post for http method type POST in artillery framework

# RoostTestHash=19003958c4


config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  payload:
    path: "refundMessage_post_success.csv"
    fields:
      - "headerVersion"
      - "messageContext"
      - "sourceContext"
      - "timestamp"
      - "documentNumber"
      - "issuanceDate"
      - "refundIndicator"
      - "refundUID"
      - "refundedCoupons"
      - "areaPointOfSale"
      - "cityPointOfSale"
      - "countryPointOfSale"
      - "issuerSystem"
    skipHeader: true

scenarios:
  - flow:
      - post:
          url: "/icd/s2s/exchange/refundMessage"
          headers:
            Content-Type: "application/json"
            Authorization: "Bearer {{$processEnvironment.AUTH_TOKEN}}"
          json:
            messageHeader:
              headerVersion: "{{ headerVersion }}"
              messageContext: "{{ messageContext }}"
              sourceContext: "{{ sourceContext }}"
              timestamp: "{{ timestamp }}"
            payload:
              refundTransactions:
                documentNumber: "{{ documentNumber }}"
                issuanceDate: "{{ issuanceDate }}"
                refundIndicator: "{{ refundIndicator }}"
                refundUID: "{{ refundUID }}"
                refundedCoupons: "{{ refundedCoupons }}"
              refundingAgentDetails:
                areaPointOfSale: "{{ areaPointOfSale }}"
                cityPointOfSale: "{{ cityPointOfSale }}"
                countryPointOfSale: "{{ countryPointOfSale }}"
                issuerSystem: "{{ issuerSystem }}"
          expect:
            - statusCode: 200
            - hasHeader: "Content-Type"
            - contentType: "application/json"
          log: "Submitting refund message with valid payload."
        think: 1
